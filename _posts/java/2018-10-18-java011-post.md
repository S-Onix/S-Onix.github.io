---
title: 상속(Inheritance)
date: 2018-10-18 00:00:10 +0900
tags:
  - java
---
## 상속
- 프로그램에서 상속은 부모와 자식의 관계를 만들어주고 클래스들을 관리할 수 있게 한다.
  - 왜 상속하는데?
    - 코드의 중복을 제거하고 코드의 추가 및 변경이 좋기 때문이다

- 자식 클래스는 부모클래스가 가지고 있는 모든 멤버변수나 멤버메소드를 사용할 수 있다. (부모의 것을 자식이 사용할 수 있다.)
- 상속의 개념에서 super와 this를 구분한다.
- 자식은 부모의 메소드를 재사용(새로운 기능) 할 수 있다. (method override)
- 자바에서는 단일 상속만 가능하다.(부모는 무조건 하나이다.)
- `is a` 관계 , `has a` 관계를 가진다.
  - `Bus` is a `Car`
  - `Car` has a `Engine`

- `extends` 와 `implements`를 함께 사용할 수 있다.


```java
class Parent{


}

class Child extends Parent{


}
```

- 왜 써야하는데?
  - 공통적인 사항의 기능이 있다고 가정했을 때, class를 만들때마다 코드를 적을거야? 너무 비효율적이지 않을까?

  ```java
  class Taxi{달린다}
  class Bus{달린다}
  class AutoBycle{달린다}
  ```
  
  - 위와 같이 `달린다` 라는 공통적인 기능이 있다면 

  ```java
  class Car{
    달린다
  }

  class Taxi extends Car{}
  class Bus extends Car{}
  class AutoBycle extends Car{}
  ```

  - 이렇게 작성해준다면 `Taxi` , `Bus` , `AutoBycle` 클래스는 모두 달린다 라는 기능을 가지고 있고 사용할 수 있다.
  - 달린다 라는 기능을 가진 코드를 한번만 작성해줌으로 코드의 중복이 줄어들고 추후 코드를 관리하는데 용이하다.
  - 공통사항에 해당하는 기능 혹은 데이터를 추가할 때 `Car`클래스에만 추가하면 되지 않을까?

### 참조타입의 형변환
- 이전에 공부했던 형변환에 대해 다시 생각해보자
- 두가지의 형변환 형태를 머리 속에서 끄집어 보면 아래와 같다고 설명했었다.
  - 묵시적인 형변환 : 작은쪽에서 큰쪽으로 형을 변환할 때
  - 명시적인 형변화 : 큰쪽에서 작은쪽으로 형을 변환할 때

- 그와 더불어 기본타입 뿐만 아니라 참조타입에서도 가능하다고 했었다.
- 그렇다면 객체간의 형변환(참조타입)에서 어느쪽이 큰쪽으로 봐야하는가?
  - 결론은 부모의 클래스를 큰쪽으로 봐야한다.


- 왜 쓰는가?
  - 데이터의 통신을 하는데 데이터를 한번에 보내는 것이 컴퓨터의 측면에서도 사용자의 측면에서도 좋을 것이다. 그러나 데이터의 타입들은 여러가지 이므로 한번에 전송하기 힘들다. 그래서 하나의 데이터 타입으로 통일 해야 했고, 그 결과 자바에서는 Object라는 최상위 클래스를 가지고 있다. 그래서 Object 타입으로 변환하여 데이터의 타입을 통일 시킬 수 있었다. 자식들(데이터들)의 타입을 부모(Object)의 타입으로 변환 (작은쪽에서 큰쪽으로 -> 묵시적인 형변환)하여 데이터를 통합해서 전송이 가능했다.
  - 그러나 Object로 변환된 데이터는 원래의 목적에 맞게 원래 데이터의 타입으로 변환해야한다. Object가 부모이므로 자식의 타입으로 바꿔주기 위해서는 강제적으로 형변환을 시켜줘야한다.


### 오버라이드

### 은닉변수
- 부모 클래스와 자식 클래스가 같은 이름의 변수를 가지고 있을시 부모의 변수를 사용하는 것이 아닌 자식의 변수를 사용한다.

```java
class Parent{
  int a = 10;

}
class Child extends Parent{
  int a = 20;
}
```

- 다음과 같을 시에 자식의 객체를 생성 후 `a`를 호출 한다면?

```java
//이때의 a는 Child 클래스의 a를 호출하여 20이 출력된다.
public class Main{
  public static void main(String [] args){
    Child c = new Child();
    System.out.println(c.a);
  }
}
```

- 그렇다면 형변환이 이루어진 후는 어떻게 출력이 되는가?

```java
public class Main{
  public static void main(String [] args){
    Child c = new Child();
    
    //자식의 타입에서 부모의 타입으로 (작은->큰) 이므로 암묵적으로 사용가능
    Parent p = c;
    System.out.println(p.a);
  }
}
```

- 타입변환으로 참조변수 p는 부모 클래스의 정보만 볼 수 있다. 따라서 자식의 a가 아닌 부모의 a를 보게 되고 결과는 10을 출력한다.
- 첫번째 예와 같이 부모 클래스의 변수와 자식 클래스의 변수의 이름이 같고 자식객체에서 해당 변수를 호출 했을 때 부모클래스의 변수가 호출되지 않는데 이 때 부모클래스의 변수를 `은닉변수` 라고 부른다.